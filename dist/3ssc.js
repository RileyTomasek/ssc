!function(t){"use strict";"function"==typeof define&&define.amd?define(t):window.ssc=t()}(function(){"use strict";function t(t){if(!(t instanceof Element)){if("string"!=typeof t)throw Error("elem must be either an Element or a CSS Selector");if(t=document.querySelector(t),!t)throw Error("elem selector does not refer to a valid Element")}return t}function n(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e}function e(t){var n=[];return t.map(function(t){var e;t instanceof Array?(e=[],t.map(function(t){e.push(t)})):e=t,n.push(e)}),n}function r(t,n,e){var r,i=[];for(n=n||3,e=void 0!==e?e:0,r=0;n>r;r++)i.push(t[r]||0===t[r]?t[r]:e);return i}function i(t,n,e){t=Array.prototype.slice.call(t);var i=(t[0]instanceof Array?t[0]:t).slice(0,3);return r(i,n,e)}function a(){var t=Array.prototype.slice.call(arguments),n=t.reduce(function(t,n){return t.length<n.length?t:n});return n.map(function(n,e){return t.map(function(t){return t[e]})})}function o(t,n,e){var r=n.charAt(0).toUpperCase()+n.slice(1);l.map(function(n){t.style[n+r]=e,t.style.propName=e},void 0)}function s(t,n){var e,r=window.getComputedStyle(t);return l.map(function(t){e=r["-"+t+"-"+n]||e},void 0),r[n]||e}function u(t,n,e){this._matrix=t,this._origin=n,this._elem=e,this._elemRect=e.getBoundingClientRect()}function c(e){e=t(e);var r,i,a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],o=s(e,"transform"),c=s(e,"transformOrigin");if(i=c.split(" ").map(parseFloat),i[2]=i[2]||0,o&&"none"!==o)if(r=o.substring(o.indexOf("( ")+1,o.length-1),r=r.split(", ").map(function(t){return n(parseFloat(t),2)}),6===r.length)r.map(function(t,n){var e=n%2,r=Math.floor(n/2)+(n>3?1:0);a[e][r]=t});else{if(16!==r.length)throw Error("elem has a transformation matrix that is not well defined");r.map(function(t,n){var e=n%4,r=Math.floor(n/4);a[e][r]=t})}return new u(a,i,e)}function h(){return c.apply(void 0,arguments)}var l=["Moz","webkit","ms","O"];return u.prototype={clone:function(){return new u(e(this.matrix),this.origin,this._elem)},translate:function(){var t=i(arguments),n=this.getTranslate();return this.setTranslate(a(n,t).map(function(t){return void 0!==t[1]?t[0]+t[1]:0}))},setTranslate:function(){var t=i(arguments),n=e(this._matrix);return t.map(function(t,e){n[e][3]=t}),new u(n,this._origin,this._elem)},getTranslate:function(){return[this._matrix[0][3],this._matrix[1][3],this._matrix[2][3]]},scale:function(){var t,n=i(arguments,4,1),e=[[n[0],0,0,0],[0,n[1],0,0],[0,0,n[2],0],[0,0,0,1]];return t=new u(e,this._origin,this._elem),t.multiply(this._matrix)},setScale:function(){var t=i(arguments,4,1),n=e(this._matrix);return t.map(function(t,e){n[e][e]=t}),new u(n,this._origin,this._elem)},getScale:function(){return[this._matrix[0][0],this._matrix[1][1],this._matrix[2][2]]},changeOrigin:function(){var t,n=[],e=this.getScale();return"string"==typeof arguments[0]?arguments[0].split(" ").map(function(t,e,r){var i;if(-1!==t.indexOf("%"))i=0===e?this._elemRect.width:this._elemRect.height,n[e]=i*parseFloat(t)/100;else switch(t.toLowerCase()){case"left":n[0]=0;break;case"right":n[0]=this._elemRect.width;break;case"top":n[1]=0;break;case"bottom":n[1]=this._elemRect.height;break;case"center":1===r.length?n=[this._elemRect.width/2,this._elemRect.height/2]:0===e?n[0]=this._elemRect.width/2:n[1]=this._elemRect.height/2;break;default:n[2]=parseInt(t,10)}},this):n=i(arguments,3,null),n[2]=n[2]||0,e=this.getScale(),t=a(this._origin,n,e).map(function(t){var n=null!==t[1]?t[1]-t[0]:0;return(t[2]-1)*n}),this._origin=a(this._origin,n).map(function(t){return null!==t[1]?t[1]:t[0]}),this.translate(t)},multiply:function(t){var n,e;return n=t[0].length?a.apply(this,t):[t],e=this._matrix.map(function(t){return n.map(function(n){return a(t,n).map(function(t){return t[0]*t[1]}).reduce(function(t,n){return t+n},0)})}),new u(e,this._origin,this._elem)},toTransformMatrix:function(){var t=a.apply(this,this._matrix).map(function(t){return t.map(function(t){return n(t,2)}).join(", ")}).join(", ");return"matrix3d("+t+")"},getOrigin:function(){return this._origin[0]+"px "+this._origin[1]+"px "+this._origin[2]},apply:function(n){n=n?t(n):this._elem,o(n,"transform",this.toTransformMatrix()),o(n,"transformOrigin",this.getOrigin())}},h.CSSMatrix=u,h});